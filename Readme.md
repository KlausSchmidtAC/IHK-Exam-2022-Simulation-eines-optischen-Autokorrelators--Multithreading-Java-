# AKF Simulator

[![Java](https://img.shields.io/badge/Java-18+-orange.svg)](https://www.oracle.com/java/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey.svg)](https://github.com/username/AKF_Simulator)
[![JAR](https://img.shields.io/badge/JAR-Ready-green.svg)](#installation-und-ausf√ºhrung)

Ein **Java-basierter Autokorrelationsfunktions-Simulator** mit fortschrittlichen mathematischen Algorithmen f√ºr die pr√§zise Analyse von Messdaten. Das System nutzt Multi-Threading-Architekturen f√ºr optimale Performance und wird √ºber das interaktive Batch-Skript `starte_AKF_Simulation.bat` gestartet.

## üéØ √úberblick

Der AKF Simulator automatisiert komplexe Signalanalyseverfahren und f√ºhrt pr√§zise Messungen f√ºr wissenschaftliche Anwendungen in Physik, Elektrotechnik und Messtechnik durch.

### ‚ú® Hauptfunktionen

- **üìä X-Wert Gl√§ttung**: Konvertierung und Gl√§ttung von Eingabewerten mit Pikosekunden-Pr√§zision
- **üìà Y-Wert Normierung**: Normalisierung der Messwerte auf das Intervall (0,1]
- **üîÑ H√ºllkurven-Bestimmung**: Automatische Erkennung der oberen Einh√ºllenden
- **‚ö° FWHM-Analyse**: Full Width Half Maximum Berechnung f√ºr Pulssignale
- **üöÄ Multi-Threading**: Parallele Verarbeitung gro√üer Datens√§tze
- **üìÅ Batch-Verarbeitung**: Simultane Bearbeitung mehrerer Eingabedateien
- **üóÉÔ∏è JAR-Distribution**: Portable ausf√ºhrbare JAR-Datei (`Loesung.jar`)
- **üñ•Ô∏è Interaktives Batch-Skript**: Benutzergef√ºhrte Eingabe √ºber `starte_AKF_Simulation.bat`

## üîß Systemanforderungen

### Minimale Anforderungen
- **Java**: JDK 18 oder h√∂her (f√ºr Entwicklung) / JRE 18+ (f√ºr Ausf√ºhrung)
- **RAM**: 512 MB
- **Speicher**: 50 MB freier Festplattenspeicher
- **OS**: Windows 10+, macOS 10.14+, Linux (Ubuntu 18.04+)

### Empfohlene Konfiguration
- **Java**: OpenJDK 21 LTS
- **RAM**: 2 GB oder mehr
- **CPU**: Multi-Core f√ºr optimale Threading-Performance

## üöÄ Installation und Ausf√ºhrung

### Option 1: Mit vorhandener JAR-Datei (Empfohlen)

**1. JAR-Datei verwenden:**
- Verwenden Sie die mitgelieferte `Loesung.jar`
- Oder laden Sie die aktuelle Version aus den [Releases](https://github.com/IhrUsername/AKF_Simulator/releases) herunter

**2. Mit interaktivem Batch-Skript starten:**
```cmd
# Doppelklick auf starte_AKF_Simulation.bat
starte_AKF_Simulation.bat
```

**3. Direkte JAR-Ausf√ºhrung:**
```bash
# Grundlegende Ausf√ºhrung
java -jar Loesung.jar "eingabe_ordner" "ausgabe_ordner"

# Mit optimierten Parametern
java -Xmx1g -jar Loesung.jar "data/input" "data/output"

# Nur Eingabeordner (Ausgabe im gleichen Verzeichnis)
java -jar Loesung.jar "data/input"
```

### Option 2: JAR-Datei aus Quellcode erstellen

**Wichtiger Hinweis zur Kompilierung:**
Das Kompilieren mit `javac *.java` erfasst **nicht alle** Java-Dateien in Unterordnern!

**1. Schritt-f√ºr-Schritt Kompilierung:**
```bash
# Im src/ Verzeichnis:

# 1. Hauptverzeichnis kompilieren
javac *.java

# 2. Alle Unterordner einzeln kompilieren
javac Model/DatenObjekt.java
javac Model/Exceptions/*.java
javac Algorithmus/*.java
javac Controller/*.java
javac Eingabe/*.java
javac Ausgabe/*.java
javac Main/*.java

# 3. √úberpr√ºfen ob alle .class Dateien vorhanden sind
dir /s *.class
```

**2. JAR-Archiv erstellen:**
```bash
# JAR mit allen kompilierten Klassen erstellen
jar -cvfe Loesung.jar Main.Main *.class Algorithmus/*.class Ausgabe/*.class Eingabe/*.class Model/*.class Controller/*.class
```

**3. JAR-Datei testen:**
```bash
java -jar Loesung.jar "testdaten" "ergebnisse"
```

## üñ•Ô∏è Interaktives Batch-Skript: `starte_AKF_Simulation.bat`

Das Hauptfeature des Projekts ist das benutzerfreundliche Batch-Skript f√ºr die interaktive Ausf√ºhrung.

### **Funktionen des Batch-Skripts:**
- ‚úÖ Interaktive Pfadeingabe f√ºr Eingabedaten
- ‚úÖ Optionale Ausgabepfad-Spezifikation  
- ‚úÖ Automatische JAR-Erkennung (`Loesung.jar`)
- ‚úÖ Benutzerfreundliche Eingabeaufforderungen
- ‚úÖ Unterst√ºtzung f√ºr relative und absolute Pfade

### **Verwendung:**
```cmd
# Einfach per Doppelklick starten
starte_AKF_Simulation.bat
```

### **Beispiel-Interaktion:**
```
Bitte den absoluten oder relativen Pfad zum Ordner mit den Testdatens√§tzen eingeben.
Standardfall: ./data
HINWEIS:
Falls der Ordner vom Pfad dieser ausgef√ºhrten Skriptdatei betrachtet in einem oder 
mehreren Unterordner liegt, die Pfadangabe bitte in der Form 
"./Unterordner1/Unterordner2/.." vornehmen.

Pfad_zum_Eingabe_Ordner: ./Messdaten

Optional: Bitte den gew√ºnschten absoluten Pfad zur Ausgabedatei eingeben.
```

### **Unterst√ºtzte Pfadformate:**
- **Relativer Pfad**: `./data`, `data`, `./Unterordner1/Unterordner2`
- **Absoluter Pfad**: `C:\Messdaten`, `/home/user/data`
- **Netzwerkpfad**: `\\Server\Freigabe\Daten`

## üìÅ Projektstruktur

```
AKF_Simulator/
‚îú‚îÄ‚îÄ üóÉÔ∏è Loesung.jar                 # Ausf√ºhrbare JAR-Datei
‚îú‚îÄ‚îÄ üöÄ starte_AKF_Simulation.bat   # Interaktiver Launcher
‚îú‚îÄ‚îÄ üìñ README.md                   # Diese Datei
‚îú‚îÄ‚îÄ üìÑ Anweisungen_jar_Erstellung_HTMLDOC_NACH_pdf.txt # Build-Anweisungen
‚îú‚îÄ‚îÄ üìö JavaDoc/                    # API-Dokumentation
‚îÇ   ‚îú‚îÄ‚îÄ index.html                 # Hauptdokumentation
‚îÇ   ‚îú‚îÄ‚îÄ Main/Main.html             # Main-Klasse Dokumentation
‚îÇ   ‚îú‚îÄ‚îÄ Algorithmus/               # Algorithmus-Dokumentation
‚îÇ   ‚îú‚îÄ‚îÄ Controller/                # Controller-Dokumentation
‚îÇ   ‚îú‚îÄ‚îÄ Eingabe/                   # Input-Dokumentation
‚îÇ   ‚îú‚îÄ‚îÄ Ausgabe/                   # Output-Dokumentation
‚îÇ   ‚îî‚îÄ‚îÄ Model/                     # Datenmodell-Dokumentation
‚îú‚îÄ‚îÄ üóÇÔ∏è src/                        # Quellcode
‚îÇ   ‚îú‚îÄ‚îÄ üö™ Main/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Main.java              # Haupteinstiegspunkt
‚îÇ   ‚îú‚îÄ‚îÄ üßÆ Algorithmus/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AKF_ALGO.java          # Basis-Algorithmus
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AKF_ALGO2.java         # Erweiterte Algorithmen  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ AKF_Loeser.java        # Algorithm-Interface
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OutputDatenKollektor.java # Ausgabedaten-Container
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RechnerThread.java     # Berechnungs-Thread
‚îÇ   ‚îú‚îÄ‚îÄ üéÆ Controller/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Controler.java         # Thread-Management
‚îÇ   ‚îú‚îÄ‚îÄ üì• Eingabe/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InputDatenKollektor.java    # Eingabedaten-Container  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Leser.java             # Datei-Reader
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LeseThread.java        # Multi-Threading Reader
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ leseInterface.java     # Reader-Interface
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VermittlerThread.java  # Daten-Vermittlung
‚îÇ   ‚îú‚îÄ‚îÄ üì§ Ausgabe/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Schreiber.java         # Datei-Writer
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SchreiberThread.java   # Multi-Threading Writer
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schreibInterface.java  # Writer-Interface
‚îÇ   ‚îú‚îÄ‚îÄ üèóÔ∏è Model/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FHWM.java             # Pulsbreiten-Datenmodell
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Exceptions/            # Custom Exceptions
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Ausgabe_Exception.java
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ DatensatzInkonsistentException.java
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ EingabeException.java
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ META-INF/
‚îÇ       ‚îî‚îÄ‚îÄ MANIFEST.MF            # JAR-Manifest
‚îî‚îÄ‚îÄ üìä data/                       # Beispieldaten (optional)
    ‚îú‚îÄ‚îÄ input/                     # Beispiel-Eingabedateien  
    ‚îî‚îÄ‚îÄ output/                    # Beispiel-Ausgabedateien
```

## üìä Eingabedaten-Format

**Beispiel-Eingabedatei:**
```
# AKF Simulator Eingabedaten
# Format: X-Wert (Zeit) [Tab/Leerzeichen] Y-Wert (Amplitude)
1.234    5.678
2.345    6.789  
3.456    7.890
4.567    8.901
5.678    9.012
```

**Format-Spezifikation:**
- **Encoding**: UTF-8 oder ASCII
- **Trenner**: Leerzeichen oder Tabulator
- **Dezimaltrennzeichen**: Punkt (.)
- **Kommentare**: Zeilen mit `#` werden ignoriert
- **Leere Zeilen**: Werden √ºbersprungen

## üéØ Verwendungsszenarien

### Szenario 1: Schnellstart mit Batch-Skript
```cmd
# 1. starte_AKF_Simulation.bat per Doppelklick √∂ffnen
# 2. Eingabepfad eingeben: ./Messdaten
# 3. Ausgabepfad eingeben: ./Ergebnisse (oder Enter f√ºr Standard)
# 4. Simulation l√§uft automatisch
```

### Szenario 2: Kommandozeilen-Verwendung
```bash
# Direkte JAR-Ausf√ºhrung mit Parametern
java -jar Loesung.jar "C:\Messdaten\Versuch1" "C:\Ergebnisse\Versuch1"

# Mit Performance-Optimierung
java -Xmx2g -jar Loesung.jar "./input" "./output"
```

### Szenario 3: Batch-Verarbeitung mehrerer Ordner
```bash
# Mehrere Datens√§tze verarbeiten (Linux/macOS)
for dir in data1 data2 data3; do
    java -jar Loesung.jar "$dir" "results_$dir"
done
```

```cmd
REM Windows Batch-Verarbeitung
for /d %%i in (Messung*) do (
    java -jar Loesung.jar "%%i" "Ergebnis_%%i"
)
```

## ‚öôÔ∏è JVM-Optimierung

### Empfohlene JVM-Parameter
```bash
# Standard-Konfiguration
java -Xmx1g -Xms256m -jar Loesung.jar "input" "output"

# F√ºr gro√üe Datens√§tze (>100MB)
java -Xmx4g -Xms1g -jar Loesung.jar "input" "output"

# Mit Garbage Collection Optimierung  
java -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -jar Loesung.jar "input" "output"

# Debug-Modus mit GC-Logging
java -verbose:gc -Xloggc:gc.log -jar Loesung.jar "input" "output"
```

## üìö JavaDoc-Dokumentation

Das Projekt enth√§lt umfassende JavaDoc-Dokumentation im `JavaDoc/` Verzeichnis.

**Zugriff auf die Dokumentation:**
```bash
# JavaDoc im Browser √∂ffnen
start JavaDoc/index.html        # Windows
open JavaDoc/index.html         # macOS  
xdg-open JavaDoc/index.html     # Linux
```

**JavaDoc zu PDF konvertieren:**
```bash
# Alle HTML-Dateien auflisten
dir /s/b *.html > files.txt

# Mit HTMLDOC zu PDF konvertieren (wenn installiert)
htmldoc --batch files.txt --format pdf14 --outfile AKF_Simulator_Documentation.pdf
```

## üîç Fehlerbehebung

### Kompilierungsprobleme

**Problem: Nicht alle Java-Dateien kompiliert**
```bash
# L√∂sung: Alle Unterordner manuell kompilieren
javac Model/DatenObjekt.java
javac Model/Exceptions/*.java
javac Algorithmus/*.java
javac Controller/*.java
javac Eingabe/*.java
javac Ausgabe/*.java
javac Main/*.java

# √úberpr√ºfung: Alle .class Dateien listen
find . -name "*.class"
```

**Problem: "Main-Class nicht gefunden" bei JAR-Ausf√ºhrung**
```bash
# L√∂sung: JAR mit korrekter Main-Class erstellen
jar -cvfe Loesung.jar Main.Main *.class Algorithmus/*.class Ausgabe/*.class Eingabe/*.class Model/*.class Controller/*.class

# JAR-Inhalt √ºberpr√ºfen
jar -tf Loesung.jar | grep Main.class
```

### Laufzeitprobleme

**Problem: OutOfMemoryError**
```bash
# L√∂sung: Heap-Speicher erh√∂hen
java -Xmx4g -jar Loesung.jar "input" "output"
```

**Problem: Batch-Skript findet JAR nicht**
```batch
REM √úberpr√ºfung: JAR im gleichen Verzeichnis?
if not exist "Loesung.jar" (
    echo FEHLER: Loesung.jar nicht gefunden!
    echo Stellen Sie sicher dass die JAR-Datei im gleichen Verzeichnis liegt.
    pause
    exit /b 1
)
```

**Problem: Eingabedateien nicht gefunden**
- √úberpr√ºfen Sie die Pfadangabe im Batch-Skript
- Verwenden Sie absolute Pfade bei Problemen mit relativen Pfaden
- Stellen Sie sicher, dass die Eingabedateien das korrekte Format haben

### Debug-Tipps
```bash
# Ausf√ºhrliche Ausgaben aktivieren
java -verbose:class -jar Loesung.jar "input" "output"

# Klassenladepfad √ºberpr√ºfen
java -cp . -jar Loesung.jar "input" "output"

# Arbeitverzeichnis √ºberpr√ºfen
java -Duser.dir=%CD% -jar Loesung.jar "input" "output"
```

## üöÄ Quick-Start-Guide

### F√ºr Endanwender:
1. **JAR-Datei (`Loesung.jar`) in gew√ºnschtes Verzeichnis kopieren**
2. **`starte_AKF_Simulation.bat` per Doppelklick starten**
3. **Eingabepfad eingeben (z.B. `./Messdaten`)**
4. **Optional: Ausgabepfad eingeben**
5. **Simulation l√§uft automatisch**

### F√ºr Entwickler:
1. **Repository klonen**
2. **Alle Java-Dateien kompilieren (siehe Kompilierungsanweisungen)**
3. **JAR-Datei erstellen**
4. **Mit Testdaten validieren**

## üìÑ Lizenz

Dieses Projekt steht unter der **MIT-Lizenz**.

## ü§ù Contributing

Beitr√§ge sind herzlich willkommen! 

**Entwicklungs-Workflow:**
1. Repository forken
2. Feature-Branch erstellen
3. √Ñnderungen implementieren
4. Alle Java-Dateien kompilieren
5. JAR neu erstellen und testen
6. Pull Request erstellen

## üìû Support

- üêõ **Issues**: F√ºr Bug Reports und Feature Requests
- üìñ **JavaDoc**: Vollst√§ndige API-Dokumentation verf√ºgbar
- üí¨ **Discussions**: F√ºr allgemeine Fragen und Diskussionen

---

**‚≠ê Gef√§llt Ihnen dieses Projekt? Geben Sie uns einen Stern auf GitHub!**

**üöÄ Bereit zum Start? F√ºhren Sie `starte_AKF_Simulation.bat` aus!**

**üìñ Ben√∂tigen Sie die API-Dokumentation? √ñffnen Sie `JavaDoc/index.html` in Ihrem Browser!**